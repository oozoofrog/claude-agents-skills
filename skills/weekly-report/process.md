# Analysis Process for Weekly Report

주간보고 생성을 위한 6단계 분석 프로세스입니다.

## Step 1: 날짜 범위 계산

1. 오늘 날짜 확인
2. 이번 주 월요일 계산 (오늘 - 요일 + 1)
3. 지난 주 월요일/일요일 계산

**예시 (오늘이 2024-12-18 수요일인 경우):**
- 한일: 2024-12-09(월) ~ 2024-12-15(일)
- 할일: 2024-12-16(월) ~ 2024-12-18(수)

## Step 2: 커밋 수집

1. `git fetch --all`로 원격 최신화
2. Git config에서 사용자 이름 감지 (`git config user.name`)
3. **[한일]**: 지난 주 월~일 커밋 조회
4. **[할일]**: 이번 주 월~오늘 커밋 조회
5. 브랜치 정보 포함하여 수집

## Step 3: 이슈 정보 조회 (선택적)

JIRA MCP 서버가 연결되어 있는 경우:
1. 커밋 메시지에서 이슈 티켓 번호 추출
2. 각 티켓에 대해 JIRA API 호출
3. fixVersions → 차수, components → 영역, summary → 제목, status → 상태 추출
4. 이슈 정보가 없는 커밋은 키워드 기반 분류

## Step 4: 커밋 분류 및 통합

1. **같은 티켓 번호끼리 그룹화하여 하나의 작업으로 통합**
2. 이슈 트래커 정보 기반으로 영역 분류 (있는 경우)
3. 없으면 커밋 메시지 키워드로 영역 분류
4. 영역별, 차수별로 그룹화

## Step 5: 상태 판단

**[한일] (지난 주)**:
- 이슈 status가 Done/완료 → `(완료)`
- 이슈 status가 진행중 → `(진행)`
- 정보 없으면 기본 `(완료)`

**[할일] (이번 주)**:
- 진행 중인 작업이므로 상태 표시 없음
- 또는 사용자가 예정 작업을 추가로 입력

## Step 6: 문서 생성

1. **[한일]**: 지난 주 커밋 기반 (월~일)
2. **[할일]**: 이번 주 커밋 기반 (월~오늘) + 예정 작업

## 차수 (Sprint/Version) 판단

**우선순위:**
1. 이슈 트래커의 fixVersions/Sprint 필드 (가장 정확)
2. 사용자가 명시한 차수
3. 날짜 기반 추정 (프로젝트 스프린트 주기에 따라)
